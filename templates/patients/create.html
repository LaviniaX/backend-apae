<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Criar Novo Paciente e Prontuário</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        h1, h2 { color: #333; }
        form { background: #f9f9f9; padding: 20px; border-radius: 8px; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
        label { display: block; margin-bottom: 5px; font-weight: bold; }
        input[type="text"], input[type="email"], input[type="password"], input[type="date"], input[type="datetime-local"], textarea, select {
            width: calc(100% - 22px); /* Ajuste para padding e borda */
            padding: 10px;
            margin-bottom: 15px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        input[type="checkbox"] { margin-bottom: 15px; }
        button {
            background-color: #4CAF50;
            color: white;
            padding: 12px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
        }
        button:hover { background-color: #45a049; }
        .form-section {
            border: 1px solid #eee;
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 6px;
            background-color: #fff;
        }
        .form-section h3 { margin-top: 0; color: #555; border-bottom: 1px solid #eee; padding-bottom: 10px; margin-bottom: 15px;}
        .error { color: red; margin-bottom: 10px; }
    </style>
</head>
<body>
    <h1>Criar Novo Paciente e Prontuário</h1>

    {% if error %}
        <p class="error">{{ error }}</p>
    {% endif %}

    <form method="POST">
        <div class="form-section">
            <h3>Dados do Paciente (Básicos)</h3>
            <label for="nome">Nome:</label>
            <input type="text" id="nome" name="nome" required>

            <label for="nome_social">Nome Social:</label>
            <input type="text" id="nome_social" name="nome_social">

            <label for="cpf">CPF:</label>
            <input type="text" id="cpf" name="cpf" required>

            <label for="email">E-mail (opcional):</label>
            <input type="email" id="email" name="email">

            <label for="senha">Senha (opcional, se paciente tiver login):</label>
            <input type="password" id="senha" name="senha">
        </div>

        <div class="form-section">
            <h3>Dados do Prontuário</h3>

            <label for="numero_prontuario">Número do Prontuário:</label>
            <input type="text" id="numero_prontuario" name="numero_prontuario" required>

            <label for="situacao_cadastro">Situação do Cadastro:</label>
            <input type="text" id="situacao_cadastro" name="situacao_cadastro">

            <label for="area_atendimento">Área de Atendimento:</label>
            <input type="text" id="area_atendimento" name="area_atendimento">

            <label for="data_entrada">Data Entrada:</label>
            <input type="date" id="data_entrada" name="data_entrada">

            <label for="data_saida">Data Saída:</label>
            <input type="date" id="data_saida" name="data_saida">

            <label for="data_emissao_rg">Data Emissão RG:</label>
            <input type="date" id="data_emissao_rg" name="data_emissao_rg">

            <label for="numero_rg">Número RG:</label>
            <input type="text" id="numero_rg" name="numero_rg">

            <label for="numero_certidao_nascimento">Número Certidão Nascimento:</label>
            <input type="text" id="numero_certidao_nascimento" name="numero_certidao_nascimento">

            <label for="livro_folha">Livro/Folha:</label>
            <input type="text" id="livro_folha" name="livro_folha">

            <label for="cartorio">Cartório:</label>
            <input type="text" id="cartorio" name="cartorio">

            <label for="naturalidade">Naturalidade:</label>
            <input type="text" id="naturalidade" name="naturalidade">

            <label for="sexo">Sexo:</label>
            <select id="sexo" name="sexo">
                <option value="">Selecione</option>
                <option value="Masculino">Masculino</option>
                <option value="Feminino">Feminino</option>
                <option value="Outro">Outro</option>
            </select>

            <label for="data_nascimento">Data de Nascimento (Prontuário):</label>
            <input type="date" id="data_nascimento" name="data_nascimento">

            <label for="ocupacao">Ocupação:</label>
            <input type="text" id="ocupacao" name="ocupacao">

            <label for="numero_carteira_pcd">Número Carteira PCD:</label>
            <input type="text" id="numero_carteira_pcd" name="numero_carteira_pcd">

            <label for="numero_cartao_nis">Número Cartão NIS:</label>
            <input type="text" id="numero_cartao_nis" name="numero_cartao_nis">

            <label for="numero_cartao_sus">Número Cartão SUS (CNS):</label>
            <input type="text" id="numero_cartao_sus" name="numero_cartao_sus">

            <label for="raca_cor">Raça/Cor:</label>
            <input type="text" id="raca_cor" name="raca_cor">
        </div>

        <div class="form-section">
            <h3>Endereço</h3>
            <label for="endereco_logradouro">Logradouro:</label>
            <input type="text" id="endereco_logradouro" name="endereco_logradouro">

            <label for="endereco_numero">Número:</label>
            <input type="text" id="endereco_numero" name="endereco_numero">

            <label for="endereco_complemento">Complemento:</label>
            <input type="text" id="endereco_complemento" name="endereco_complemento">

            <label for="endereco_bairro">Bairro:</label>
            <input type="text" id="endereco_bairro" name="endereco_bairro">

            <label for="endereco_cidade">Cidade:</label>
            <input type="text" id="endereco_cidade" name="endereco_cidade">

            <label for="endereco_uf">UF:</label>
            <input type="text" id="endereco_uf" name="endereco_uf" maxlength="2">
        </div>

        <div class="form-section">
            <h3>Contatos</h3>
            <label for="telefone_residencial">Telefone Residencial:</label>
            <input type="text" id="telefone_residencial" name="telefone_residencial">

            <label for="telefone_recados">Telefone para Recados:</label>
            <input type="text" id="telefone_recados" name="telefone_recados">

            <label for="pessoa_contato_recados">Pessoa de Contato (Recados):</label>
            <input type="text" id="pessoa_contato_recados" name="pessoa_contato_recados">
        </div>

        <div class="form-section">
            <h3>Dados da Família</h3>
            <h4>Mãe</h4>
            <label for="nome_mae">Nome Mãe:</label>
            <input type="text" id="nome_mae" name="nome_mae">
            <label for="cpf_mae">CPF Mãe:</label>
            <input type="text" id="cpf_mae" name="cpf_mae">
            <label for="telefone_mae">Telefone Mãe:</label>
            <input type="text" id="telefone_mae" name="telefone_mae">
            <label for="email_mae">E-mail Mãe:</label>
            <input type="email" id="email_mae" name="email_mae">
            <label for="ocupacao_mae">Ocupação Mãe:</label>
            <input type="text" id="ocupacao_mae" name="ocupacao_mae">

            <h4>Pai</h4>
            <label for="nome_pai">Nome Pai:</label>
            <input type="text" id="nome_pai" name="nome_pai">
            <label for="cpf_pai">CPF Pai:</label>
            <input type="text" id="cpf_pai" name="cpf_pai">
            <label for="telefone_pai">Telefone Pai:</label>
            <input type="text" id="telefone_pai" name="telefone_pai">
            <label for="email_pai">E-mail Pai:</label>
            <input type="email" id="email_pai" name="email_pai">
            <label for="ocupacao_pai">Ocupação Pai:</label>
            <input type="text" id="ocupacao_pai" name="ocupacao_pai">

            <h4>Responsável Legal</h4>
            <label for="nome_responsavel">Nome Responsável:</label>
            <input type="text" id="nome_responsavel" name="nome_responsavel">
            <label for="cpf_responsavel">CPF Responsável:</label>
            <input type="text" id="cpf_responsavel" name="cpf_responsavel">
            <label for="telefone_responsavel">Telefone Responsável:</label>
            <input type="text" id="telefone_responsavel" name="telefone_responsavel">
            <label for="email_responsavel">E-mail Responsável:</label>
            <input type="email" id="email_responsavel" name="email_responsavel">
            <label for="ocupacao_responsavel">Ocupação Responsável:</label>
            <input type="text" id="ocupacao_responsavel" name="ocupacao_responsavel">
        </div>

        <div class="form-section">
            <h3>Questionário de Saúde</h3>
            <label for="medicamento_utilizado">Medicamento Utilizado:</label>
            <textarea id="medicamento_utilizado" name="medicamento_utilizado" rows="3"></textarea>

            <label>
                <input type="checkbox" id="possui_alergia" name="possui_alergia"> Possui Alergia?
            </label>
            <label for="alergias_descricao">Descrição das Alergias:</label>
            <textarea id="alergias_descricao" name="alergias_descricao" rows="2"></textarea>

            <label>
                <input type="checkbox" id="possui_comorbidade" name="possui_comorbidade"> Possui Comorbidade?
            </label>
            <label for="comorbidades_descricao">Descrição das Comorbidades:</label>
            <textarea id="comorbidades_descricao" name="comorbidades_descricao" rows="2"></textarea>

            <label for="convenio_medico">Convênio Médico:</label>
            <input type="text" id="convenio_medico" name="convenio_medico">

            <label>
                <input type="checkbox" id="atividade_fisica_liberada" name="atividade_fisica_liberada"> Atividade Física Liberada?
            </label>

            <label for="meio_transporte">Meio de Transporte:</label>
            <input type="text" id="meio_transporte" name="meio_transporte">

            <label>
                <input type="checkbox" id="autorizacao_uso_imagem" name="autorizacao_uso_imagem"> Autorização Uso de Imagem?
            </label>

            <label for="observacoes">Observações Gerais:</label>
            <textarea id="observacoes" name="observacoes" rows="4"></textarea>
        </div>

        <div class="form-section">
            <h3>Deficiência / Transtorno</h3>
            <label for="modalidade">Modalidade:</label>
            <input type="text" id="modalidade" name="modalidade">

            <label for="tipo_deficiencia">Tipo de Deficiência:</label>
            <input type="text" id="tipo_deficiencia" name="tipo_deficiencia">

            <label for="transtorno">Transtorno:</label>
            <input type="text" id="transtorno" name="transtorno">

            <label for="cid_10">CID 10:</label>
            <input type="text" id="cid_10" name="cid_10">
        </div>

        <button type="submit">Criar Paciente e Prontuário</button>
    </form>
    <p><a href="{{ url_for('patient_bp.list_patients') }}">Voltar para a Lista de Pacientes</a></p>
</body>
</html>